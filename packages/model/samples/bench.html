<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Benchmark</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <label>Items: 10e<input type="number" id="items" min="1" step="1" value="1" /></label>
    <label>Sets: <input type="number" id="sets" min="2" step="1" value="2" /></label>
    <script type="module">
      import { generateCombinations, extractSets } from '../dist/model.esm.js';

      function generate(numItems, numSets) {
        const sets = Array(numSets)
          .fill(0)
          .map((_, i) => `s${i}`);
        const items = Array(numItems)
          .fill(0)
          .map((_, i) => ({
            name: `e${i}`,
            sets: sets.filter(() => Math.random() < 1 / sets.length),
          }));

        return extractSets(items);
      }
      const items = document.getElementById('items');
      const sets = document.getElementById('sets');

      items.onchange = sets.onchange = () => {
        console.log(Math.pow(10, items.valueAsNumber), sets.valueAsNumber);
        const s = generate(Math.pow(10, items.valueAsNumber), sets.valueAsNumber);
        console.time('new');
        const rNew = generateCombinations(s);
        console.timeEnd('new');
      };
    </script>
  </body>
</html>
